<link rel="stylesheet" href="css/jquery.treegrid.css">
<link rel="stylesheet" href="css/styles.css">

<script type="text/javascript" src="js/jquery.treegrid.js"></script>
<script type="text/javascript" src="js/jquery.treegrid.bootstrap3.js"></script>
<script type="text/javascript">
    $(document).ready(function() {
        $('.tree').treegrid({
          'initialState': 'collapsed',
        });
    }); 
</script>
<div>
  <div class="row-fluid">
  	<ul class="breadcrumb">
  	<li class="active">{{selectedUni.name}}</li>
  	</ul>
  </div>
	
	<div class="row-fluid">
		<div class="col-md-12">
			<div class="col-md-6">
				<div class="col-md-4">
					<div class="checkbox pull-left">
						<label>
							<input type="checkbox" ng-model="favoriteFilterEnabled"/>
								Filter Favorite
						</label>
					</div>
				</div>
				<div class="col-md-8">
					<input type="text" class="form-control" ng-model="filterCourseString" id="local_filter">
				</div>		
			</div>
  		<div class="col-md-4"/>
  			<div class="col-md-2">
  				<a href="#/testfile/add"><button type="button" class="btn btn-primary pull-right btn-block">Add Testfile</button></a>
  			</div>
  		</div>
  	</div>
	</div>
	<div class="row-fluid" >
		<div class="col-md-12">
			<div class="col-md-6">
				<table class="tree">
					<tr>
						<th><font size="5"> Course </font></th>
					</tr>
					<tbody ng-hide="favoriteFilterEnabled" ng-repeat="lva in selectedUni.lvas | filter: filterCourseString | orderBy:orderCourses">
					  <tr class="treegrid-{{$index+1}}">
  						<td>{{lva.name}}</td>
  						<td>
                <img ng-show="hasAFavorite(lva)" src="images/star_full_disabled.png" class="img-responsive pull-right" width="32" height="32" alt="Favorite">
                <img ng-hide="hasAFavorite(lva)" src="images/star_empty_disabled.png" class="img-responsive pull-right" width="32" height="32" alt="Favorite">
              </td>
  					</tr>
            <tr class="treegrid-parent-{{$parent.$index+1}}" ng-repeat="sem in lva.semester">
  						<td><a href="#/nav/beispiele" ng-click="setSelectedSemester(sem, lva)">{{sem.name}}</a></td>
  						<td>
                <a href="#/nav/beispiele" ng-click="toggleFavorite(sem)"><img ng-show="sem.favorite" src="images/star_full.png" class="img-responsive pull-right" width="32" height="32" alt="Favorite"></a>
                <a href="#/nav/beispiele" ng-click="toggleFavorite(sem)"><img ng-hide="sem.favorite" src="images/star_empty.png" class="img-responsive pull-right" width="32" height="32" alt="Favorite"></a>
              </td>
  				  </tr>	
  				</tbody>
				  <tbody ng-show="favoriteFilterEnabled" ng-repeat="lva in selectedUni.lvas | filter: hasAFavorite | filter: filterCourseString">
  					<tr class="treegrid-{{$index+1}}">
  						<td>{{lva.name}}</td>
  						<td>
                <img ng-show="hasAFavorite(lva)" src="images/star_full_disabled.png" class="img-responsive pull-right" width="32" height="32" alt="Favorite">
                <img ng-hide="hasAFavorite(lva)" src="images/star_empty_disabled.png" class="img-responsive pull-right" width="32" height="32" alt="Favorite">
              </td>
  					</tr>
            <tr ng-hide="!sem.favorite" class="treegrid-parent-{{$parent.$index+1}}" ng-repeat="sem in lva.semester">
  						<td><a href="#/nav/beispiele" ng-click="setSelectedSemester(sem, lva)">{{sem.name}}</a></td>
  						<td>
                <a href="#/nav/beispiele" ng-click="toggleFavorite(sem)"><img ng-show="sem.favorite" src="images/star_full.png" class="img-responsive pull-right" width="32" height="32" alt="Favorite"></a>
                <a href="#/nav/beispiele" ng-click="toggleFavorite(sem)"><img ng-hide="sem.favorite" src="images/star_empty.png" class="img-responsive pull-right" width="32" height="32" alt="Favorite"></a>
              </td>
  				  </tr>	   	
				  </tbody>
				</table>                  
			</div>		
			<div class="col-md-6" ng-hide="selectedSemester == null">
				<font size="5">{{selectedLva.kurzname}} - {{selectedSemester.name}}</font>
				<div class="list-group">
				  <div ng-repeat="beispiel in selectedSemester.beispiele">
				     <table>
				       <tr>
				        <td width="15%"><a class="pull-left" href="pdfs/IIxD_Bsp3.pdf"> [pdf] </a> </td>
				        <td width="70%"><a href="#/nav/testfiles" class="pull-left text-left"> {{beispiel.name}} </a> </td>
				        <td width="15%"><span class="badge pull-right"> {{numberOfTestFiles(beispiel)}} </span>  </td>
    					 </tr>
    				 </table>
				  </div>
				</div>
			</div>
		</div>	
	</div>
</div>